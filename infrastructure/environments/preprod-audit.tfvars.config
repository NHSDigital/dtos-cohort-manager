application           = "cohman"
application_full_name = "cohort-manager"
environment           = "PREPROD"
location              = "uksouth"

features = {
  private_endpoints_enabled            = true
  private_service_connection_is_manual = false
  public_network_access_enabled        = false
}

tags = {
  Project = "Cohort-Manager"
}

resource_groups_audit = {
  audit = {
    name     = "rg-cohman-preprod-uks-audit"
    location = "uksouth"
  }
}

regions = {
  uksouth = {
    is_primary_region = true
    address_space     = "10.3.0.0/16"
    connect_peering   = true
    subnets = {
      # apps = {
      #   cidr_newbits               = 8
      #   cidr_offset                = 2
      #   delegation_name            = "Microsoft.Web/serverFarms"
      #   service_delegation_name    = "Microsoft.Web/serverFarms"
      #   service_delegation_actions = ["Microsoft.Network/virtualNetworks/subnets/action"]
      # }
      pep = {
        cidr_newbits = 8
        cidr_offset  = 1
      }
    }
  }
}

app_insights = {
  #name_suffix        = "cohman"
  resource_group_key = "audit"
  appinsights_type   = "web"

  audit_resource_group_key = "audit"
}

law = {
  #name_suffix        = "cohman"
  resource_group_key = "audit"

  law_sku        = "PerGB2018"
  retention_days = 30

  audit_resource_group_key = "audit"
}
