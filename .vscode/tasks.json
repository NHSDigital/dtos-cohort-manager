{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Win: Build and run docker project",
      "type": "shell",
      "command": "docker compose down && docker compose -f compose.core.yaml build && docker compose -f compose.cohort-distribution.yaml build && docker compose -f compose.data-services.yaml build && docker compose up",
      "problemMatcher": [],
      "options": {
        "shell": {
          "executable": "wsl.exe"
        },
        "cwd": "./application/CohortManager"
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "Win: Build and run docker project with deps",
      "type": "shell",
      "command": "docker compose -f compose.deps.yaml down && docker compose down && docker compose -f compose.core.yaml build && docker compose -f compose.cohort-distribution.yaml build && docker compose -f compose.data-services.yaml build && docker compose -f compose.deps.yaml up && docker compose up",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "options": {
        "shell": {
          "executable": "wsl.exe"
        },
        "cwd": "./application/CohortManager",
        "os": {
          "windows": {
            "group": {
              "isDefault": true
            }
          },
          "osx": {
            "group": {
              "isDefault": false
            }
          },
          "linux": {
            "group": {
              "isDefault": true
            }
          }
        }
      }
    },
    {
      "label": "Win: Restart docker project",
      "type": "shell",
      "command": "docker compose down && docker compose up",
      "problemMatcher": [],
      "options": {
        "shell": {
          "executable": "wsl.exe"
        },
        "cwd": "./application/CohortManager"
      },
    },
    {
      "label": "Win: Restart docker project & deps",
      "type": "shell",
      "command": "docker compose -f compose.deps.yaml down && docker compose down && docker compose -f compose.deps.yaml up && docker compose up",
      "problemMatcher": [],
      "options": {
        "shell": {
          "executable": "wsl.exe"
        },
        "cwd": "./application/CohortManager"
      },
    },
    {
      "label": "Mac: Build and run docker project",
      "type": "shell",
      "command": "podman compose down && podman compose -f compose.core.yaml build && podman compose -f compose.cohort-distribution.yaml build && podman compose -f compose.data-services.yaml build && podman compose up",
      "problemMatcher": [],
      "options": {
        "cwd": "./application/CohortManager"
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "Mac: Build and run docker project with deps",
      "type": "shell",
      "command": "podman compose -f compose.deps.yaml down && podman compose down && podman compose -f compose.core.yaml build && podman compose -f compose.cohort-distribution.yaml build && podman compose -f compose.data-services.yaml build && podman compose -f compose.deps.yaml up && podman compose up",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "options": {
        "shell": {
          "executable": "wsl.exe"
        },
        "cwd": "./application/CohortManager",
        "os": {
          "windows": {
            "group": {
              "isDefault": false
            }
          },
          "osx": {
            "group": {
              "isDefault": true
            }
          },
          "linux": {
            "group": {
              "isDefault": false
            }
          }
        }
      }
    },
    {
      "label": "Mac: Restart docker project",
      "type": "shell",
      "command": "podman compose down && podman compose up",
      "problemMatcher": [],
      "options": {
        "shell": {
          "executable": "wsl.exe"
        },
        "cwd": "./application/CohortManager"
      },
    },
    {
      "label": "Mac: Restart docker project & deps",
      "type": "shell",
      "command": "podman compose -f compose.deps.yaml down && podman compose down && podman compose -f compose.deps.yaml up && podman compose up",
      "problemMatcher": [],
      "options": {
        "shell": {
          "executable": "wsl.exe"
        },
        "cwd": "./application/CohortManager"
      },
    },
    {
      "label": "Run All Functions",
      "dependsOrder": "parallel",
      "dependsOn": [
        "CaasIntegration/receiveCaasFile",
        "DemographicServices/DemographicDataManagementFunction",
        "ParticipantManagementServices/addParticipant",
        "ParticipantManagementServices/updateParticipant",
        "ParticipantManagementServices/RemoveParticipant",
        "ExceptionHandling/CreateException",
        "screeningDataServices/createParticipant",
        "screeningDataServices/DemographicDataService",
        "screeningDataServices/markParticipantAsEligible",
        "screeningDataServices/markParticipantAsIneligible",
        "screeningDataServices/updateParticipantDetails",
        "ScreeningValidationService/FileValidation",
        "ScreeningValidationService/LookupValidation",
        "ScreeningValidationService/RemoveValidationException",
        "ScreeningValidationService/StaticValidation",
        "CohortDistributionServices/CreateCohortDistribution",
        "CohortDistributionServices/RetrieveParticipantData",
        "CohortDistributionServices/ServiceProviderAllocationService",
        "CohortDistributionServices/ValidateCohortDistributionRecord",
        "CohortDistributionServices/TransformDataService",
        "CohortDistributionServices/AddCohortDistributionData"
      ]
    },
    {
      "label": "CaasIntegration/receiveCaasFile",
      "type": "shell",
      "command": "func start",
      "options": {
        "cwd": "application/CohortManager/src/Functions/CaasIntegration/receiveCaasFile"
      }
    },
    {
      "label": "CaasIntegration/processCaasFile",
      "type": "shell",
      "osx": {
        "command": "sleep 1 && func start"
      },
      "windows": {
        "command": "timeout 1 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/CaasIntegration/processCaasFile"
      }
    },
    {
      "label": "DemographicServices/DemographicDataManagementFunction",
      "type": "shell",
      "osx": {
        "command": "sleep 1.5 && func start"
      },
      "windows": {
        "command": "timeout 2 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/DemographicServices/DemographicDataManagementFunction"
      }
    },
    {
      "label": "ParticipantManagementServices/addParticipant",
      "type": "shell",
      "osx": {
        "command": "sleep 2 && func start"
      },
      "windows": {
        "command": "timeout 3 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/ParticipantManagementServices/addParticipant"
      }
    },
    {
      "label": "ParticipantManagementServices/updateParticipant",
      "type": "shell",
      "osx": {
        "command": "sleep 2.5 && func start"
      },
      "windows": {
        "command": "timeout 4 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/ParticipantManagementServices/updateParticipant"
      }
    },
    {
      "label": "ParticipantManagementServices/RemoveParticipant",
      "type": "shell",
      "osx": {
        "command": "sleep 3 && func start"
      },
      "windows": {
        "command": "timeout 5 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/ParticipantManagementServices/RemoveParticipant"
      }
    },
    {
      "label": "ExceptionHandling/CreateException",
      "type": "shell",
      "osx": {
        "command": "sleep 4 && func start"
      },
      "windows": {
        "command": "timeout 7 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/ExceptionHandling/CreateException"
      }
    },
    {
      "label": "screeningDataServices/createParticipant",
      "type": "shell",
      "osx": {
        "command": "sleep 3.5 && func start"
      },
      "windows": {
        "command": "timeout 6 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/screeningDataServices/createParticipant"
      }
    },
    {
      "label": "screeningDataServices/DemographicDataService",
      "type": "shell",
      "osx": {
        "command": "sleep 4.5 && func start"
      },
      "windows": {
        "command": "timeout 8 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/screeningDataServices/DemographicDataService"
      }
    },
    {
      "label": "screeningDataServices/markParticipantAsEligible",
      "type": "shell",
      "osx": {
        "command": "sleep 5 && func start"
      },
      "windows": {
        "command": "timeout 9 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/screeningDataServices/markParticipantAsEligible"
      }
    },
    {
      "label": "screeningDataServices/markParticipantAsIneligible",
      "type": "shell",
      "osx": {
        "command": "sleep 5.5 && func start"
      },
      "windows": {
        "command": "timeout 10 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/screeningDataServices/markParticipantAsIneligible"
      }
    },
    {
      "label": "screeningDataServices/updateParticipantDetails",
      "type": "shell",
      "osx": {
        "command": "sleep 6 && func start"
      },
      "windows": {
        "command": "timeout 11 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/screeningDataServices/updateParticipantDetails"
      }
    },
    {
      "label": "ScreeningValidationService/FileValidation",
      "type": "shell",
      "osx": {
        "command": "sleep 6.5 && func start"
      },
      "windows": {
        "command": "timeout 12 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/ScreeningValidationService/FileValidation"
      }
    },
    {
      "label": "ScreeningValidationService/LookupValidation",
      "type": "shell",
      "osx": {
        "command": "sleep 7 && func start"
      },
      "windows": {
        "command": "timeout 13 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/ScreeningValidationService/LookupValidation"
      }
    },
    {
      "label": "ScreeningValidationService/RemoveValidationException",
      "type": "shell",
      "osx": {
        "command": "sleep 7.5 && func start"
      },
      "windows": {
        "command": "timeout 14 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/ScreeningValidationService/RemoveValidationException"
      }
    },
    {
      "label": "ScreeningValidationService/StaticValidation",
      "type": "shell",
      "osx": {
        "command": "sleep 8 && func start"
      },
      "windows": {
        "command": "timeout 15 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/ScreeningValidationService/StaticValidation"
      }
    },
    {
      "label": "CohortDistributionServices/CreateCohortDistribution",
      "type": "shell",
      "osx": {
        "command": "sleep 8.5 && func start"
      },
      "windows": {
        "command": "timeout 16 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/CohortDistributionServices/CreateCohortDistribution"
      }
    },
    {
      "label": "CohortDistributionServices/RetrieveParticipantData",
      "type": "shell",
      "osx": {
        "command": "sleep 9 && func start"
      },
      "windows": {
        "command": "timeout 17 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/CohortDistributionServices/RetrieveParticipantData"
      }
    },
    {
      "label": "CohortDistributionServices/ServiceProviderAllocationService",
      "type": "shell",
      "osx": {
        "command": "sleep 9.5 && func start"
      },
      "windows": {
        "command": "timeout 18 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/CohortDistributionServices/ServiceProviderAllocationService"
      }
    },
    {
      "label": "CohortDistributionServices/ValidateCohortDistributionRecord",
      "type": "shell",
      "osx": {
        "command": "sleep 10 && func start"
      },
      "windows": {
        "command": "timeout 19 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/CohortDistributionServices/ValidateCohortDistributionRecord"
      }
    },
    {
      "label": "CohortDistributionServices/TransformDataService",
      "type": "shell",
      "osx": {
        "command": "sleep 10.5 && func start"
      },
      "windows": {
        "command": "timeout 20 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/CohortDistributionServices/TransformDataService"
      }
    },
    {
      "label": "CohortDistributionServices/AddCohortDistributionData",
      "type": "shell",
      "osx": {
        "command": "sleep 11 && func start"
      },
      "windows": {
        "command": "timeout 21 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/CohortDistributionServices/AddCohortDistributionData"
      }
    },
    {
      "label": "screeningDataServices/ScreeningLkpDataService",
      "type": "shell",
      "osx": {
        "command": "sleep 11 && func start"
      },
      "windows": {
        "command": "timeout 21 && func start",
        "options": {
          "shell": {
            "executable": "cmd.exe"
          }
        }
      },
      "options": {
        "cwd": "application/CohortManager/src/Functions/screeningDataServices/ScreeningLkpDataService"
      }
    }
  ]
}
